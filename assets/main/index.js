System.register("chunks:///_virtual/Dictionary.ts",["cc"],(function(E){var R;return{setters:[function(E){R=E.cclegacy}],execute:function(){R._RF.push({},"90892ZZWO5KyYlrFGYUMJjj","Dictionary",void 0);E("WordList",["RED","BLUE","KEY","MAP","RUN","SET","TAG","WEB","ZIP","CODE","DATA","DISK","EDIT","FILE","GAME","HELP","ICON","JAVA","LINK","LIST","LOAD","LOCK","LOOP","MENU","MODE","NODE","PATH","PLAY","SAVE","TEXT","TOOL","TYPE","USER","VIEW","WIFI","ADMIN","APPLE","AUDIO","BLOCK","CACHE","CLICK","CLOUD","COLOR","DEBUG","DRIVE","EMAIL","ENTER","ERROR","EVENT","FIELD","FLASH","FRAME","GRAPH","GROUP","IMAGE","INPUT","LABEL","LAYER","LEVEL","LIMIT","LOGIN","MEDIA","MODEL","MOUSE","MUSIC","PANEL","PHONE","PIXEL","POWER","PRINT","RESET","ROBOT","SCENE","SCORE","SHARE","SHELL","SHIFT","SMART","SOUND","SPACE","STACK","START","STYLE","TABLE","THEME","TIMER","TITLE","TOKEN","TRACK","UNITY","VALUE","VIDEO","VIRUS","WATCH","WORLD","WRITE","ACCOUNT","ADDRESS","ARCHIVE","BACKUP","BATTERY","BROWSER","BUTTON","CAMERA","CAPTURE","CHANNEL","COMMAND","CONNECT","CONSOLE","CONTENT","CONTROL","COOKIES","DEFAULT","DESKTOP","DEVICES","DISPLAY","ELEMENT","EXAMPLE","FEATURE","FILTER","FOLDER","GALLERY","HISTORY","INSTALL","KEYBOARD","KEYWORD","LAPTOP","LIBRARY","LICENSE","LOADING","MANAGER","MESSAGE","MONITOR","NETWORK","OFFLINE","OPTIONS","PACKAGE","PATTERN","POINTER","PREVIEW","PRIMARY","PRIVACY","PRIVATE","PROFILE","PROGRAM","PROJECT","QUALITY","REFRESH","RELEASE","REQUEST","RESTORE","ROUTINE","SCANNER","SCREEN","SECTION","SEGMENT","SERVICE","SESSION","SETTING","SIDEBAR","SPEAKER","STORAGE","SUPPORT","SURFACE","SYSTEM","TEXTURE","UNKNOWN","UPDATES","VERSION","WEBSITE","WINDOWS","WIRELESS"]);R._RF.pop()}}}));

System.register("chunks:///_virtual/GameManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Trie.ts","./WordController.ts","./Dictionary.ts"],(function(e){var t,i,r,n,s,o,a,l,u,h,c,d,p,g,f,v,b,w,m,y,S,I,T,C,M,U,W,L;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,r=e.createForOfIteratorHelperLoose,n=e.initializerDefineProperty,s=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,l=e.Prefab,u=e.Node,h=e.Label,c=e.UIOpacity,d=e.EditBox,p=e.AudioClip,g=e.ProgressBar,f=e.Button,v=e.AudioSource,b=e.sys,w=e.instantiate,m=e.UITransform,y=e.Vec3,S=e.ParticleSystem2D,I=e.Color,T=e.tween,C=e.director,M=e.Component},function(e){U=e.Trie},function(e){W=e.WordController},function(e){L=e.WordList}],execute:function(){var P,O,E,z,D,F,A,k,R,B,G,x,Z,N,H,V,K,_,q,Y,j,J,Q,X,$,ee,te,ie,re,ne,se,oe,ae,le,ue,he,ce,de,pe,ge,fe,ve,be,we,me;o._RF.push({},"85fdcDBCxBMNIRZn2QfVRf1","GameManager",void 0);var ye=a.ccclass,Se=a.property;e("GameManager",(P=ye("GameManager"),O=Se({tooltip:"Centang ini jika scene ini adalah Zen Mode"}),E=Se(l),z=Se(l),D=Se(u),F=Se(h),A=Se(h),k=Se(h),R=Se(h),B=Se(c),G=Se(d),x=Se(p),Z=Se(p),N=Se(p),H=Se(h),V=Se(g),K=Se(h),_=Se(h),q=Se(u),Y=Se(f),j=Se(f),J=Se(Number),P(($=t((X=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,n(t,"isZenMode",$,s(t)),n(t,"wordPrefab",ee,s(t)),n(t,"explosionPrefab",te,s(t)),n(t,"spawnArea",ie,s(t)),n(t,"scoreLabel",re,s(t)),n(t,"fireCountLabel",ne,s(t)),n(t,"iceCountLabel",se,s(t)),n(t,"healCountLabel",oe,s(t)),n(t,"healOverlay",ae,s(t)),n(t,"inputField",le,s(t)),n(t,"successSound",ue,s(t)),n(t,"backgroundMusic",he,s(t)),n(t,"typingSound",ce,s(t)),n(t,"highScoreLabel",de,s(t)),n(t,"dangerMeter",pe,s(t)),n(t,"wpmLabel",ge,s(t)),n(t,"errorLabel",fe,s(t)),n(t,"gameOverUI",ve,s(t)),n(t,"restartButton",be,s(t)),n(t,"reviveButton",we,s(t)),n(t,"maxMissedWords",me,s(t)),t.audioSource=null,t.trie=new U,t.activeWords=new Map,t.dictionary=L,t.score=0,t.highScore=0,t.firePowerUps=0,t.icePowerUps=0,t.healPowerUps=0,t.isFrozen=!1,t.destroyAreaY=-500,t.currentTarget=null,t.spawnInterval=null,t.baseSpawnTime=2e3,t.baseWordSpeed=100,t.difficultyLevel=1,t.currentMissedWords=0,t.isGameOver=!1,t.hasRevived=!1,t.startTime=0,t.totalErrors=0,t.totalCharsTyped=0,t}i(t,e);var o=t.prototype;return o.onLoad=function(){if(this.inputField.node.on(d.EventType.TEXT_CHANGED,this.onInputChanged,this),this.audioSource=this.getComponent(v),this.gameOverUI.active=!1,this.isGameOver=!1,this.restartButton&&this.restartButton.node.on(f.EventType.CLICK,this.onRestartClicked,this),this.reviveButton&&this.reviveButton.node.on(f.EventType.CLICK,this.onReviveClicked,this),this.healOverlay&&(this.healOverlay.opacity=0),this.isZenMode)console.log("MODE: ZEN ACTIVATED");else{console.log("MODE: NORMAL ACTIVATED");var e=b.localStorage.getItem("highScore");e&&(this.highScore=parseInt(e))}this.updateUI(),this.backgroundMusic&&this.audioSource&&(this.audioSource.clip=this.backgroundMusic,this.audioSource.loop=!0,this.audioSource.play()),this.inputField.enabled=!0,this.inputField.focus(),this.startGame()},o.update=function(e){if(this.isZenMode&&!this.isGameOver&&this.startTime>0&&this.wpmLabel){var t=(Date.now()-this.startTime)/6e4;if(t>.01){var i=0;this.currentTarget&&(i=this.inputField.string.length);var r=Math.floor((this.totalCharsTyped+i)/5/t);this.wpmLabel.string="WPM: "+r}}},o.onDestroy=function(){this.spawnInterval&&clearInterval(this.spawnInterval),this.audioSource&&this.audioSource.stop()},o.startGame=function(){this.score=0,this.firePowerUps=0,this.icePowerUps=0,this.healPowerUps=0,this.isFrozen=!1,this.currentMissedWords=0,this.hasRevived=!1,this.totalErrors=0,this.totalCharsTyped=0,this.startTime=Date.now(),this.baseSpawnTime=2e3,this.baseWordSpeed=100,this.difficultyLevel=1,this.isZenMode||this.updateDangerMeter(),this.updateUI(),this.startSpawnInterval()},o.startSpawnInterval=function(){var e=this;this.spawnInterval&&clearInterval(this.spawnInterval),this.spawnInterval=setInterval((function(){e.spawnWord()}),this.baseSpawnTime)},o.spawnWord=function(){if(!(this.isGameOver||this.isFrozen||this.activeWords.size>=this.dictionary.length)){var e=this.getUniqueWord();if(e){var t="none",i=Math.random();i<.1?t="fire":i<.2?t="ice":i<.3?t="double":i<.4&&(t="heal");var r=w(this.wordPrefab);this.node.addChild(r);var n=this.spawnArea.getComponent(m).width,s=Math.random()*n-n/2,o=this.spawnArea.position.y;r.setPosition(new y(s,o,0));var a=r.getComponent(W);a.init(e,t,this.baseWordSpeed,this),this.trie.insert(e,a),this.activeWords.set(e,r)}}},o.getUniqueWord=function(){for(var e="",t=!0,i=0,r=["FIRE","ICE","HEAL"];t&&i<100;)e=this.dictionary[Math.floor(Math.random()*this.dictionary.length)],this.activeWords.has(e)||-1!==r.indexOf(e.toUpperCase())||(t=!1),i++;return t?null:e},o.onInputChanged=function(e){if(!this.isGameOver){var t=e.string.toUpperCase();if(t.length>0&&this.typingSound&&this.audioSource.playOneShot(this.typingSound,.5),"FIRE"===t)return this.useFirePowerUp(),void this.clearInput();if("ICE"===t)return this.useIcePowerUp(),void this.clearInput();if("HEAL"===t)return this.useHealPowerUp(),void this.clearInput();if(""!==t){var i=!1;if(this.currentTarget)if(this.currentTarget.isDestroyed)this.currentTarget=null,this.findNewTarget(t),this.currentTarget||(i=!0);else{var r=this.currentTarget.wordString.toUpperCase();r.startsWith(t)?r===t?this.completeWord(this.currentTarget):this.currentTarget.highlight(t):(i=!0,this.currentTarget.resetHighlight(),this.currentTarget=null,this.findNewTarget(t),this.currentTarget||(i=!0))}else this.findNewTarget(t),this.currentTarget||(i=!0);i&&this.errorLabel&&this.isZenMode&&(this.totalErrors++,this.errorLabel.string="Errors: "+this.totalErrors)}else this.clearCurrentTarget()}},o.findNewTarget=function(e){for(var t,i=this.trie.searchPrefix(e),n=null,s=r(i);!(t=s()).done;){var o=t.value;if(o&&!o.isDestroyed){n=o;break}}n&&(this.currentTarget=n,this.currentTarget.wordString.toUpperCase()===e?this.completeWord(this.currentTarget):this.currentTarget.highlight(e))},o.spawnExplosion=function(e,t){if(this.explosionPrefab){var i=w(this.explosionPrefab);this.node.addChild(i),i.setPosition(e);var r=i.getComponent(S);if(r){r.startColor=t;var n=new I(t.r,t.g,t.b,0);r.endColor=n}this.scheduleOnce((function(){i&&i.isValid&&i.destroy()}),1)}},o.completeWord=function(e){if(!e.isDestroyed){if(this.totalCharsTyped+=e.wordString.length,this.trie.remove(e.wordString),this.activeWords.delete(e.wordString),this.score+=e.wordString.length,this.successSound&&this.audioSource&&this.audioSource.playOneShot(this.successSound,1),this.spawnExplosion(e.node.position,e.getCurrentColor()),"double"===e.powerUpType){var t=this.getUniqueWord();if(t)return e.transformWord(t),this.trie.insert(t,e),this.activeWords.set(t,e.node),this.clearCurrentTarget(),this.clearInput(),void this.updateUI()}"fire"===e.powerUpType?this.firePowerUps++:"ice"===e.powerUpType?this.icePowerUps++:"heal"===e.powerUpType&&this.healPowerUps++,e.destroyWord(),this.checkDifficultyProgression(),this.clearCurrentTarget(),this.clearInput(),this.updateUI()}},o.wordMissed=function(e){if(!this.isGameOver){this.isZenMode||(this.currentMissedWords++,this.updateDangerMeter(),this.currentMissedWords>=this.maxMissedWords&&this.triggerGameOver());var t=this.activeWords.get(e);if(t){var i=t.getComponent(W);if(i.isDestroyed)return;this.currentTarget===i&&(this.clearCurrentTarget(),this.clearInput()),this.trie.remove(e),this.activeWords.delete(e),i.destroyWord()}}},o.checkDifficultyProgression=function(){var e=50*this.difficultyLevel;this.score>=e&&(this.difficultyLevel++,this.baseWordSpeed=Math.min(this.baseWordSpeed+20,500),this.baseSpawnTime=Math.max(this.baseSpawnTime-100,500),this.startSpawnInterval())},o.clearAllWordsOnScreen=function(){for(var e=0,t=Array.from(this.activeWords.values());e<t.length;e++){var i=t[e],r=i.getComponent(W);r.isDestroyed||(this.spawnExplosion(i.position,I.RED),this.trie.remove(r.wordString),this.activeWords.delete(r.wordString),r.destroyWord())}},o.useFirePowerUp=function(){this.firePowerUps<=0||(this.firePowerUps--,this.clearAllWordsOnScreen(),this.clearCurrentTarget(),this.updateUI())},o.useIcePowerUp=function(){var e=this;this.icePowerUps<=0||this.isFrozen||(this.icePowerUps--,this.isFrozen=!0,setTimeout((function(){e.isFrozen=!1}),3e3),this.updateUI())},o.useHealPowerUp=function(){if(!(this.healPowerUps<=0)){if(this.healPowerUps--,!this.isZenMode){this.currentMissedWords-=3,this.currentMissedWords<0&&(this.currentMissedWords=0),this.updateDangerMeter()}this.healOverlay&&(T(this.healOverlay).stop(),this.healOverlay.opacity=0,T(this.healOverlay).to(.2,{opacity:120}).to(.5,{opacity:0}).start()),this.updateUI()}},o.clearCurrentTarget=function(){this.currentTarget&&(this.currentTarget.resetHighlight(),this.currentTarget=null)},o.clearInput=function(){this.inputField.string="",this.inputField.focus()},o.updateUI=function(){this.scoreLabel&&(this.scoreLabel.string="Skor: "+this.score),this.highScoreLabel&&!this.isZenMode&&(this.highScoreLabel.string="Best: "+this.highScore),this.fireCountLabel&&(this.fireCountLabel.string='Ketik "FIRE": '+this.firePowerUps),this.iceCountLabel&&(this.iceCountLabel.string='Ketik "ICE": '+this.icePowerUps),this.healCountLabel&&(this.healCountLabel.string='Ketik "HEAL": '+this.healPowerUps)},o.updateDangerMeter=function(){this.dangerMeter&&(this.dangerMeter.progress=this.currentMissedWords/this.maxMissedWords)},o.triggerGameOver=function(){if(!this.isGameOver){if(this.isGameOver=!0,this.inputField.enabled=!1,this.audioSource.stop(),this.spawnInterval&&(clearInterval(this.spawnInterval),this.spawnInterval=null),!this.isZenMode){var e=b.localStorage.getItem("leaderboard"),t=e?JSON.parse(e):[],i=new Date,r=i.getDate()+"/"+(i.getMonth()+1)+"/"+i.getFullYear();t.push({score:this.score,date:r}),t.sort((function(e,t){return t.score-e.score})),t.length>10&&(t=t.slice(0,10)),b.localStorage.setItem("leaderboard",JSON.stringify(t)),t.length>0&&(this.highScore=t[0].score)}this.updateUI(),this.gameOverUI.active=!0,this.reviveButton&&(this.reviveButton.node.active=!this.hasRevived)}},o.onReviveClicked=function(){this.hasRevived||(console.log("PLAYER REVIVED!"),this.hasRevived=!0,this.isGameOver=!1,this.gameOverUI.active=!1,this.currentMissedWords=0,this.updateDangerMeter(),this.clearAllWordsOnScreen(),this.inputField.enabled=!0,this.clearInput(),this.startSpawnInterval(),this.backgroundMusic&&this.audioSource&&(this.audioSource.playing||this.audioSource.play()))},o.onRestartClicked=function(){C.loadScene(C.getScene().name)},o.onBackToMenuClicked=function(){this.spawnInterval&&(clearInterval(this.spawnInterval),this.spawnInterval=null),C.loadScene("MenuScene")},t}(M)).prototype,"isZenMode",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ee=t(X.prototype,"wordPrefab",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),te=t(X.prototype,"explosionPrefab",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ie=t(X.prototype,"spawnArea",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),re=t(X.prototype,"scoreLabel",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ne=t(X.prototype,"fireCountLabel",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),se=t(X.prototype,"iceCountLabel",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),oe=t(X.prototype,"healCountLabel",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ae=t(X.prototype,"healOverlay",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),le=t(X.prototype,"inputField",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ue=t(X.prototype,"successSound",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),he=t(X.prototype,"backgroundMusic",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ce=t(X.prototype,"typingSound",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),de=t(X.prototype,"highScoreLabel",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pe=t(X.prototype,"dangerMeter",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ge=t(X.prototype,"wpmLabel",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),fe=t(X.prototype,"errorLabel",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ve=t(X.prototype,"gameOverUI",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),be=t(X.prototype,"restartButton",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),we=t(X.prototype,"reviveButton",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),me=t(X.prototype,"maxMissedWords",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),Q=X))||Q));o._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./Dictionary.ts","./GameManager.ts","./MenuManager.ts","./Trie.ts","./TutorialManager.ts","./WordController.ts"],(function(){return{setters:[null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/MenuManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var n,o,a,r,t,i,c,l,u;return{setters:[function(e){n=e.applyDecoratedDescriptor,o=e.inheritsLoose,a=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){t=e.cclegacy,i=e._decorator,c=e.sys,l=e.director,u=e.Component}],execute:function(){var m,s,S,d,g,p,b,f,y,N,M;t._RF.push({},"210ceETr4pOcaz9H98VASuR","MenuManager",void 0);var T=i.ccclass,h=i.property;e("MenuManager",(m=T("MenuManager"),s=h(String),S=h(String),d=h(String),g=h(String),m((f=n((b=function(e){function n(){for(var n,o=arguments.length,t=new Array(o),i=0;i<o;i++)t[i]=arguments[i];return n=e.call.apply(e,[this].concat(t))||this,a(n,"gameSceneName",f,r(n)),a(n,"zenSceneName",y,r(n)),a(n,"leaderboardSceneName",N,r(n)),a(n,"tutorialSceneName",M,r(n)),n}o(n,e);var t=n.prototype;return t.onStartGame=function(){console.log("Tombol START ditekan"),c.localStorage.setItem("gameMode","normal"),l.loadScene(this.gameSceneName)},t.onZenMode=function(){console.log("Tombol ZEN ditekan"),c.localStorage.setItem("gameMode","zen"),l.loadScene(this.zenSceneName)},t.onOpenTutorial=function(){console.log("Tombol TUTORIAL ditekan"),l.loadScene(this.tutorialSceneName)},t.onOpenLeaderboard=function(){console.log("Tombol LEADERBOARD ditekan"),l.loadScene(this.leaderboardSceneName)},t.onQuitGame=function(){l.end()},n}(u)).prototype,"gameSceneName",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"GameScene"}}),y=n(b.prototype,"zenSceneName",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"ZenScene"}}),N=n(b.prototype,"leaderboardSceneName",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"LeaderboardScene"}}),M=n(b.prototype,"tutorialSceneName",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"TutorialScene"}}),p=b))||p));t._RF.pop()}}}));

System.register("chunks:///_virtual/Trie.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(r){var e,o;return{setters:[function(r){e=r.createForOfIteratorHelperLoose},function(r){o=r.cclegacy}],execute:function(){o._RF.push({},"4d0ffhtT1RGOL+nl10WdG+C","Trie",void 0);var n=function(){this.children=new Map,this.isEndOfWord=!1,this.wordRef=null};r("Trie",function(){function r(){this.root=void 0,this.root=new n}var o=r.prototype;return o.insert=function(r,o){for(var t,i=this.root,l=r.toLowerCase(),d=e(l);!(t=d()).done;){var s=t.value;i.children.has(s)||i.children.set(s,new n),i=i.children.get(s)}i.isEndOfWord=!0,i.wordRef=o},o.findPrefixNode=function(r){for(var o,n=this.root,t=r.toLowerCase(),i=e(t);!(o=i()).done;){var l=o.value;if(!n.children.has(l))return null;n=n.children.get(l)}return n},o.searchPrefix=function(r){var e=this.findPrefixNode(r);if(!e)return[];var o=[];return this.collectAllWords(e,o),o},o.collectAllWords=function(r,o){r.isEndOfWord&&r.wordRef&&o.push(r.wordRef);for(var n,t=e(r.children.values());!(n=t()).done;){var i=n.value;this.collectAllWords(i,o)}},o.remove=function(r){for(var o,n=r.toLowerCase(),t=this.root,i=e(n);!(o=i()).done;){var l=o.value;if(!t.children.has(l))return;t=t.children.get(l)}t.isEndOfWord&&(t.isEndOfWord=!1,t.wordRef=null)},r}());o._RF.pop()}}}));

System.register("chunks:///_virtual/TutorialManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Trie.ts","./WordController.ts"],(function(e){var t,i,r,n,o,s,a,u,l,c,p,h,d,f,g,b,w,y,m,v,S,C;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,r=e.createForOfIteratorHelperLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){s=e.cclegacy,a=e._decorator,u=e.Prefab,l=e.Node,c=e.Label,p=e.EditBox,h=e.AudioClip,d=e.AudioSource,f=e.tween,g=e.Vec3,b=e.instantiate,w=e.Color,y=e.director,m=e.ParticleSystem2D,v=e.Component},function(e){S=e.Trie},function(e){C=e.WordController}],execute:function(){var T,I,E,L,k,W,A,x,P,U,O,F,z,D,H,M,K,N,R,B,Y;s._RF.push({},"99cd8pLbZtM8YvZ7BX7SEQs","TutorialManager",void 0);var _=a.ccclass,G=a.property;e("TutorialManager",(T=_("TutorialManager"),I=G(u),E=G(u),L=G(l),k=G(c),W=G(c),A=G(p),x=G(h),P=G(h),U=G(l),T((z=t((F=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return t=e.call.apply(e,[this].concat(r))||this,n(t,"wordPrefab",z,o(t)),n(t,"explosionPrefab",D,o(t)),n(t,"spawnArea",H,o(t)),n(t,"instructionLabel",M,o(t)),n(t,"scoreLabel",K,o(t)),n(t,"inputField",N,o(t)),n(t,"successSound",R,o(t)),n(t,"typingSound",B,o(t)),n(t,"completionUI",Y,o(t)),t.trie=new S,t.activeWords=new Map,t.currentTarget=null,t.audioSource=null,t.currentStepIndex=0,t.isWaiting=!1,t.steps=[{word:"WELCOME",type:"none",instruction:"Selamat Datang! Ketik kata yang jatuh sebelum menyentuh bawah.",speed:50},{word:"TYPE",type:"none",instruction:"Bagus! Coba ketik satu lagi.",speed:60},{word:"DOUBLE",type:"double",instruction:"Kata ORANYE berlapis dua. Ketik, lalu ketik lagi isinya!",speed:40},{word:"FIRE",type:"fire",instruction:"Kata MERAH adalah Power Up. Ketik 'FIRE' untuk meledakkan layar!",speed:40},{word:"ICE",type:"ice",instruction:"Kata BIRU membekukan waktu. Ketik 'ICE'!",speed:40},{word:"HEAL",type:"heal",instruction:"Kata HIJAU memulihkan nyawa. Ketik 'HEAL'!",speed:40},{word:"READY",type:"none",instruction:"Tutorial Selesai! Kamu siap bermain.",speed:80}],t}i(t,e);var s=t.prototype;return s.onLoad=function(){var e=this;this.inputField.node.on(p.EventType.TEXT_CHANGED,this.onInputChanged,this),this.audioSource=this.getComponent(d),this.inputField.focus(),this.completionUI&&(this.completionUI.active=!1),this.scheduleOnce((function(){e.spawnCurrentStep()}),1)},s.spawnCurrentStep=function(){if(this.currentStepIndex>=this.steps.length)this.finishTutorial();else{var e=this.steps[this.currentStepIndex];this.instructionLabel&&(this.instructionLabel.string=e.instruction,f(this.instructionLabel.node).to(.1,{scale:new g(1.2,1.2,1)}).to(.1,{scale:new g(1,1,1)}).start());var t=b(this.wordPrefab);this.node.addChild(t);var i=this.spawnArea.position.y;t.setPosition(new g(0,i,0));var r=t.getComponent(C);r.init(e.word,e.type,e.speed,this),this.trie.insert(e.word,r),this.activeWords.set(e.word,t)}},s.onInputChanged=function(e){var t=e.string.toUpperCase();if(t.length>0&&this.typingSound&&this.audioSource.playOneShot(this.typingSound,.5),"FIRE"===t)return this.forceCompleteStep("fire"),void this.clearInput();if("ICE"===t)return this.forceCompleteStep("ice"),void this.clearInput();if("HEAL"===t)return this.forceCompleteStep("heal"),void this.clearInput();if(""!==t)if(this.currentTarget){if(this.currentTarget.isDestroyed)return this.currentTarget=null,void this.findNewTarget(t);var i=this.currentTarget.wordString.toUpperCase();i.startsWith(t)?i===t?this.completeWord(this.currentTarget):this.currentTarget.highlight(t):(this.currentTarget.resetHighlight(),this.currentTarget=null,this.findNewTarget(t))}else this.findNewTarget(t);else this.clearCurrentTarget()},s.findNewTarget=function(e){for(var t,i=this.trie.searchPrefix(e),n=null,o=r(i);!(t=o()).done;){var s=t.value;if(s&&!s.isDestroyed){n=s;break}}n&&(this.currentTarget=n,this.currentTarget.wordString.toUpperCase()===e?this.completeWord(this.currentTarget):this.currentTarget.highlight(e))},s.forceCompleteStep=function(e){var t=this,i=this.steps[this.currentStepIndex];i.type!==e&&i.word!==e.toUpperCase()||(this.activeWords.forEach((function(e,i){var r=e.getComponent(C);r&&r.destroyWord(),t.trie.remove(i)})),this.activeWords.clear(),this.spawnExplosion(new g(0,0,0),w.YELLOW),this.currentStepIndex++,this.scheduleOnce((function(){return t.spawnCurrentStep()}),1.5))},s.completeWord=function(e){var t=this;if(!e.isDestroyed){if(this.trie.remove(e.wordString),this.activeWords.delete(e.wordString),this.successSound&&this.audioSource.playOneShot(this.successSound),this.spawnExplosion(e.node.position,e.getCurrentColor()),"double"===e.powerUpType){var i="AGAIN";return e.transformWord(i),this.trie.insert(i,e),this.activeWords.set(i,e.node),this.instructionLabel&&(this.instructionLabel.string="Bagus! Sekarang ketik lapisan dalamnya: 'AGAIN'"),this.clearInput(),void this.clearCurrentTarget()}e.destroyWord(),this.clearInput(),this.clearCurrentTarget(),this.currentStepIndex++,this.scheduleOnce((function(){t.spawnCurrentStep()}),1.5)}},s.wordMissed=function(e){var t=this,i=this.activeWords.get(e);if(i){var r=i.getComponent(C);this.trie.remove(e),this.activeWords.delete(e),r.destroyWord()}this.instructionLabel&&(this.instructionLabel.string="Ups! Jangan sampai lolos. Coba lagi!"),this.scheduleOnce((function(){t.spawnCurrentStep()}),1)},s.finishTutorial=function(){this.instructionLabel&&(this.instructionLabel.string="HEBAT! Tutorial Selesai."),this.scheduleOnce((function(){y.loadScene("MenuScene")}),2)},s.spawnExplosion=function(e,t){if(this.explosionPrefab){var i=b(this.explosionPrefab);this.node.addChild(i),i.setPosition(e);var r=i.getComponent(m);r&&(r.startColor=t,r.endColor=new w(t.r,t.g,t.b,0)),this.scheduleOnce((function(){i.isValid&&i.destroy()}),1)}},s.clearCurrentTarget=function(){this.currentTarget&&(this.currentTarget.resetHighlight(),this.currentTarget=null)},s.clearInput=function(){this.inputField.string="",this.inputField.focus()},t}(v)).prototype,"wordPrefab",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(F.prototype,"explosionPrefab",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(F.prototype,"spawnArea",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(F.prototype,"instructionLabel",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=t(F.prototype,"scoreLabel",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=t(F.prototype,"inputField",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=t(F.prototype,"successSound",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=t(F.prototype,"typingSound",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=t(F.prototype,"completionUI",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=F))||O));s._RF.pop()}}}));

System.register("chunks:///_virtual/WordController.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var o,t,i,r,s,n,a,l,h,c,d,b;return{setters:[function(e){o=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){s=e.cclegacy,n=e._decorator,a=e.RichText,l=e.UIOpacity,h=e.Color,c=e.Vec3,d=e.tween,b=e.Component}],execute:function(){var p,g,u,C,F;s._RF.push({},"28c74GnIJlJIY9OpAfxox+4","WordController",void 0);var y=n.ccclass,w=n.property;e("WordController",(p=y("WordController"),g=w(a),p((F=o((C=function(e){function o(){for(var o,t=arguments.length,s=new Array(t),n=0;n<t;n++)s[n]=arguments[n];return o=e.call.apply(e,[this].concat(s))||this,i(o,"label",F,r(o)),o.wordString="",o.powerUpType="none",o.speed=100,o.gameManager=null,o.isDestroyed=!1,o.baseColorCode="#FFFFFF",o.baseColorObj=new h(255,255,255),o.uiOpacity=null,o}t(o,e);var s=o.prototype;return s.init=function(e,o,t,i){switch(this.powerUpType=o,this.speed=t,this.gameManager=i,this.wordString=e,this.uiOpacity=this.getComponent(l),this.uiOpacity||(this.uiOpacity=this.addComponent(l)),this.uiOpacity.opacity=255,o){case"fire":this.baseColorCode="#FF0000",this.baseColorObj=h.RED;break;case"ice":this.baseColorCode="#00FFFF",this.baseColorObj=h.CYAN;break;case"double":this.baseColorCode="#FFA500",this.baseColorObj=new h(255,165,0);break;case"heal":this.baseColorCode="#00FF00",this.baseColorObj=h.GREEN;break;default:this.baseColorCode="#FFFFFF",this.baseColorObj=h.WHITE}this.label.string="<color="+this.baseColorCode+">"+this.wordString+"</color>",this.node.setScale(new c(0,0,1)),d(this.node).to(.3,{scale:new c(1.2,1.2,1)},{easing:"backOut"}).to(.1,{scale:new c(1,1,1)}).start()},s.getCurrentColor=function(){return this.baseColorObj},s.update=function(e){var o=this.gameManager.isFrozen||!1,t=this.gameManager.isGameOver||!1;if(!(o||this.isDestroyed||t)){this.node.position=this.node.position.add3f(0,-this.speed*e,0);var i=void 0!==this.gameManager.destroyAreaY?this.gameManager.destroyAreaY:-500;this.node.position.y<i&&this.gameManager.wordMissed(this.wordString)}},s.transformWord=function(e){d(this.node).to(.1,{scale:new c(1.3,.7,1)}).to(.1,{scale:new c(1,1,1)}).start(),this.wordString=e,this.powerUpType="none",this.baseColorCode="#FFFFFF",this.baseColorObj=h.WHITE,this.label.string="<color="+this.baseColorCode+">"+this.wordString+"</color>"},s.highlight=function(e){if(!this.isDestroyed){d(this.node).stop().to(.05,{scale:new c(1.1,1.1,1)}).to(.05,{scale:new c(1,1,1)}).start();var o=e.toLowerCase(),t=this.wordString,i="<color=#FFFF00>"+t.substring(0,o.length)+"</color>",r="<color="+this.baseColorCode+">"+t.substring(o.length)+"</color>";this.label.string=i+r}},s.resetHighlight=function(){this.isDestroyed||(this.label.string="<color="+this.baseColorCode+">"+this.wordString+"</color>")},s.destroyWord=function(){this.isDestroyed||(this.isDestroyed=!0,this.node.active=!1,this.node.destroy())},o}(b)).prototype,"label",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),u=C))||u));s._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});